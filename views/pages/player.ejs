<!DOCTYPE html>
<html>
  <%- include('../partials/head') %>
  <body>
    <div class="video-wrapper">

      <!-- Back to previous page button top-right -->
      <button id="back-button" title="Back to content" class="back-btn">
        <i class="bi bi-arrow-left"></i>
      </button>

      <video
        id="video-player" class="playing"
        src="<%= content.type === 'movie'
                ? '/static/' + content.videoUrl
                : currentEpisode && currentEpisode.videoUrl
                  ? '/static/' + currentEpisode.videoUrl
                  : '/videos/not-found.mp4' %>"
        type="video/mp4"
      ></video>

      <!-- Overlay for skip seconds feedback -->
      <div id="skip-overlay" class="skip-overlay hidden"></div>

      <!-- Overlay controls -->
      <div class="custom-controls" id="custom-controls">
        <button id="backward" title="Back 10 seconds"><i class="bi bi-skip-backward-fill"></i></button>
        <button id="play-pause" title="Play/Pause"> <i class="bi bi-play-fill"></i></button>
        <button id="forward" title="Forward 10 seconds"> <i class="bi bi-fast-forward-fill"></i></button>
        <% if (content.type !== 'movie') { %>
          <button id="skip-forward" title="next-episode"> <i class="bi bi-skip-forward-fill"></i></button>
        <% } %>
        <span id="time-display">0:00 / 0:00</span>
        <input type="range" id="timeline" min="0" max="100" value="0">
        <button id="mute-toggle"><i class="bi bi-volume-down-fill"></i></button>
        <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="1"> 
        <button id="fullscreen" title="Fullscreen"><i class="bi bi-arrows-fullscreen"></i></button>
      </div>
  </body>
</html>